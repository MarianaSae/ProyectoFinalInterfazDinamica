<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>游꼛Bannana Jump游꼛</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" />
  <!-- FontAwesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
</head>
<body>
  <div class="app-container">
    <header class="main-header">
      <h1>游꼛Bannana Jump游꼛</h1>
      <nav id="nav-main" class="hidden">
        <button id="btn-nav-profile" class="btn-link">
          <i class="fa-solid fa-user"></i> Perfil
        </button>
        <button id="btn-nav-history" class="btn-link">
          <i class="fa-solid fa-clock-rotate-left"></i> Historial
        </button>
        <button id="btn-nav-logout" class="btn-link btn-danger">
          <i class="fa-solid fa-right-from-bracket"></i> Cerrar sesi칩n
        </button>
      </nav>
    </header>

    <main class="main-content">
      <section id="screen-auth">
        <div class="card card-auth" id="login-view">
          <h2></i> Iniciar sesi칩n</h2>
          <form id="form-login">
            <div class="form-group">
              <label for="login-email">Correo electr칩nico</label>
              <input type="email" id="login-email" required />
            </div>
            <div class="form-group">
              <label for="login-password">Contrase침a</label>
              <input type="password" id="login-password" required />
            </div>
            <button type="submit" class="btn-primary">
              Entrar
            </button>
          </form>
          <p class="text-small">
            쯅o tienes cuenta?
            <button id="btn-go-register" class="btn-link-inline">
              Reg칤strate aqu칤
            </button>
          </p>
          <p id="login-error" class="error-msg"></p>
        </div>

        <div class="card card-auth hidden" id="register-view">
          <h2><i class="fa-solid fa-user-plus"></i> Registro</h2>
          <form id="form-register">
            <div class="form-group">
              <label for="reg-username">Nombre de usuario</label>
              <input type="text" id="reg-username" required />
            </div>
            <div class="form-group">
              <label for="reg-email">Correo electr칩nico</label>
              <input type="email" id="reg-email" required />
            </div>
            <div class="form-group">
              <label for="reg-password">Contrase침a</label>
              <input type="password" id="reg-password" required minlength="4" />
            </div>
            <div class="form-group">
              <label for="reg-favcolor">Selecciona el color de tu personaje</strong></label>
              <input type="color" id="reg-favcolor" value="#00aa55" />
            </div>
            <button type="submit" class="btn-primary">
              Crear cuenta
            </button>
          </form>
          <p class="text-small">
            쯏a tienes cuenta?
            <button id="btn-go-login" class="btn-link-inline">
              Inicia sesi칩n
            </button>
          </p>
          <p id="register-error" class="error-msg"></p>
        </div>
      </section>

      <section id="screen-profile" class="hidden">
        <div class="card">
          <h2><i class="fa-solid fa-id-card"></i> Perfil del jugador</h2>
          <div class="profile-grid">
            <div class="profile-block">
              <p><strong>Nombre de usuario:</strong> <span id="profile-username"></span></p>
              <p><strong>Correo:</strong> <span id="profile-email"></span></p>
              <p><strong>Color del personaje:</strong> <span id="profile-color"></span></p>
            </div>
            <div class="profile-block">
              <p><strong>Partidas jugadas:</strong> <span id="profile-games"></span></p>
              <p><strong>Puntaje total:</strong> <span id="profile-total-score"></span></p>
              <p><strong>Mejor puntaje:</strong> <span id="profile-best-score"></span></p>
              <div class="form-group form-group-inline">
                <label for="profile-favcolor-input">Cambiar color:</label>
                <div class="inline-color-wrapper">
                  <input type="color" id="profile-favcolor-input" />
                  <button id="btn-save-favcolor" class="btn-secondary btn-small">
                    Guardar color
                  </button>
                </div>
              </div>
            </div>
            <div class="profile-block profile-block-actions">
              <button id="btn-start-game" class="btn-primary full-width">
                <i class="fa-solid fa-play"></i> Iniciar nueva partida
              </button>
              <button id="btn-go-history" class="btn-secondary full-width">
                <i class="fa-solid fa-clock-rotate-left"></i> Ver historial
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- PANTALLA JUEGO -->
      <section id="screen-game" class="hidden">
        <div class="card card-game">
          <div class="hud">
            <span><i class="fa-solid fa-user"></i> Jugador: <strong id="hud-player-name"></strong></span>
            <span><i class="fa-solid fa-heart"></i> Vidas: <strong id="hud-lives"></strong></span>
            <span><i class="fa-solid fa-star"></i> Puntaje: <strong id="hud-score"></strong></span>
            <span><i class="fa-solid fa-gauge-high"></i> Nivel: <strong id="hud-level"></strong></span>
          </div>
          <div class="canvas-wrapper">
            <canvas id="gameCanvas" width="960" height="360"></canvas>
            <div id="game-overlay" class="game-overlay hidden">
              <h2 id="overlay-title">춰Fin de la partida!</h2>
              <p id="overlay-score"></p>
              <p id="overlay-result"></p>
              <div class="overlay-buttons">
                <button id="btn-play-again" class="btn-primary">
                  <i class="fa-solid fa-rotate-left"></i> Jugar de nuevo
                </button>
                <button id="btn-back-profile" class="btn-secondary">
                  <i class="fa-solid fa-user"></i> Volver al perfil
                </button>
              </div>
            </div>
          </div>
          <p class="text-small text-center">
            Presiona <strong>Espacio</strong> o <strong>Flecha Arriba</strong> para saltar.
          </p>
        </div>
      </section>

      <!-- PANTALLA HISTORIAL -->
      <section id="screen-history" class="hidden">
        <div class="card">
          <h2><i class="fa-solid fa-clock-rotate-left"></i> Historial de partidas</h2>
          <div class="history-wrapper">
            <table class="history-table">
              <thead>
                <tr>
                  <th>Fecha</th>
                  <th>Puntaje</th>
                  <th>Resultado</th>
                </tr>
              </thead>
              <tbody id="history-body">
              </tbody>
            </table>
          </div>
          <button id="btn-history-back" class="btn-secondary">
            <i class="fa-solid fa-arrow-left"></i> Volver al perfil
          </button>
        </div>
      </section>
    </main>

    <footer class="main-footer">
      <p></p>
    </footer>
  </div>

  <!-- JS -->
  <script src="js/auth.js"></script>
  <script src="js/game.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
